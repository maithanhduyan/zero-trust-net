# ğŸ” Zero Trust Network - Enterprise Grade

**100% Self-Hosted | No Third-Party Dependencies | Ansible + WireGuard + Docker**

```
     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
     â•‘                 ZERO TRUST ARCHITECTURE                        â•‘
     â•‘                                                                 â•‘
     â•‘   "Never Trust, Always Verify" - KhÃ´ng tin tÆ°á»Ÿng, luÃ´n xÃ¡c minhâ•‘
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ¯ Tá»•ng quan

Dá»± Ã¡n nÃ y xÃ¢y dá»±ng **Zero Trust Network cáº¥p doanh nghiá»‡p** vá»›i cÃ¡c tÃ­nh nÄƒng:

| Feature | Technology | Status |
|---------|------------|--------|
| **VPN Mesh** | WireGuard (self-hosted) | âœ… |
| **Automation** | Ansible | âœ… |
| **Containerization** | Docker | âœ… |
| **High Availability** | Multi-Hub + Full Mesh | âœ… |
| **Security Hardening** | UFW + Fail2ban + Auditd | âœ… |
| **SSH Zero Trust** | WireGuard-only access | âœ… |

## ğŸ—ï¸ Kiáº¿n trÃºc

```
                            INTERNET
                               â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                â”‚                â”‚
              â–¼                â–¼                â–¼
         [Hub-1]â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º[Hub-2]         [Future Hubs]
        10.10.0.1         10.10.0.2
              â”‚                â”‚
    â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    â•‘    WIREGUARD ENCRYPTED MESH (P2P)         â•‘
    â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              â”‚                â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼                â–¼                â–¼
 [db-primary]    [db-replica]     [app-nodes]
  10.10.0.10      10.10.0.11      10.10.0.20+
```

### IP Scheme

| Range | Purpose | Examples |
|-------|---------|----------|
| 10.10.0.1-9 | Control Plane (Hubs) | hub-1, hub-2 |
| 10.10.0.10-19 | Database Nodes | db-primary, db-replica |
| 10.10.0.20-29 | Application Nodes | odoo-1, odoo-2 |
| 10.10.0.30-39 | Monitoring/Ops | prometheus, grafana |
| 10.10.0.100+ | Additional Nodes | - |

## ğŸš€ Quick Start

### 1. Prerequisites

```bash
# Ubuntu 24.04 LTS
# Root access hoáº·c sudo

# CÃ i Ä‘áº·t cÆ¡ báº£n
./bootstrap.sh
```

### 2. Initialize Configuration

```bash
# Copy template files
cp inventory/hosts.ini.example inventory/hosts.ini
cp inventory/group_vars/all.yml.example inventory/group_vars/all.yml

# Chá»‰nh sá»­a theo mÃ´i trÆ°á»ng cá»§a báº¡n
nano inventory/hosts.ini
nano inventory/group_vars/all.yml
```

### 3. Setup Control Plane (Hub)

```bash
# CÃ i Ä‘áº·t WireGuard Hub Ä‘áº§u tiÃªn
ansible-playbook playbooks/setup-control-plane.yml
```

### 4. Add Worker Nodes

```bash
# ThÃªm node má»›i vÃ o mesh (1 lá»‡nh duy nháº¥t)
./scripts/add-node.sh <name> <public_ip> <wg_ip> [ssh_port]

# VÃ­ dá»¥:
./scripts/add-node.sh db-primary 155.133.7.195 10.10.0.10 2222
./scripts/add-node.sh db-replica 155.133.7.254 10.10.0.11 22
```

### 5. Security Hardening

```bash
# Ãp dá»¥ng security hardening cáº¥p doanh nghiá»‡p
ansible-playbook playbooks/security-hardening.yml

# SSH Lockdown (chá»‰ cho phÃ©p tá»« WireGuard)
ansible-playbook playbooks/lockdown-ssh.yml
```

### 6. Health Check

```bash
# Kiá»ƒm tra tráº¡ng thÃ¡i mesh
./scripts/health-check.sh

# Quick check (ping only)
./scripts/health-check.sh --quick
```

## ğŸ“ Project Structure

```
/home/zero-trust-netwoking/
â”œâ”€â”€ ansible.cfg                    # Ansible configuration
â”œâ”€â”€ bootstrap.sh                   # Initial setup script
â”‚
â”œâ”€â”€ inventory/
â”‚   â”œâ”€â”€ hosts.ini                  # âš ï¸ SECRETS - Not in git
â”‚   â”œâ”€â”€ hosts.ini.example          # âœ… Template - Safe for git
â”‚   â””â”€â”€ group_vars/
â”‚       â”œâ”€â”€ all.yml                # âš ï¸ SECRETS
â”‚       â”œâ”€â”€ all.yml.example        # âœ… Template
â”‚       â”œâ”€â”€ control_plane.yml      # Hub settings
â”‚       â”œâ”€â”€ db_nodes.yml           # Database settings
â”‚       â””â”€â”€ app_nodes.yml          # App settings
â”‚
â”œâ”€â”€ playbooks/
â”‚   â”œâ”€â”€ site.yml                   # Master playbook
â”‚   â”œâ”€â”€ setup-control-plane.yml    # Setup WireGuard Hub
â”‚   â”œâ”€â”€ deploy-worker-nodes.yml    # Deploy workers
â”‚   â”œâ”€â”€ setup-full-mesh.yml        # P2P connections
â”‚   â”œâ”€â”€ security-hardening.yml     # Enterprise security
â”‚   â””â”€â”€ lockdown-ssh.yml           # SSH via WireGuard only
â”‚
â”œâ”€â”€ roles/
â”‚   â”œâ”€â”€ common/                    # Base configuration
â”‚   â”œâ”€â”€ security/                  # Security hardening
â”‚   â”œâ”€â”€ wireguard/                 # VPN mesh
â”‚   â”œâ”€â”€ docker/                    # Container runtime
â”‚   â”œâ”€â”€ postgres-ha/               # Database HA
â”‚   â””â”€â”€ odoo-app/                  # Application
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ add-node.sh                # One-click add node
â”‚   â”œâ”€â”€ health-check.sh            # System health check
â”‚   â””â”€â”€ init-config.sh             # Initialize config
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ README.MD                  # This file
    â”œâ”€â”€ ZERO_TRUST_ARCHITECTURE.md # Full architecture
    â”œâ”€â”€ HIGH_AVAILABILITY.md       # HA documentation
    â””â”€â”€ WIREGUARD_MESH.md          # WireGuard details
```

## ğŸ” Security Features

### Layer 1: Network
- âœ… **WireGuard Encryption**: All traffic encrypted
- âœ… **Microsegmentation**: Firewall zones per node type
- âœ… **No public ports**: Only WireGuard port exposed

### Layer 2: Host
- âœ… **SSH Hardening**: Key-only auth, rate limiting
- âœ… **Fail2ban**: Auto-ban brute force attempts
- âœ… **Audit Logging**: Track all security events
- âœ… **Kernel Hardening**: Sysctl security parameters

### Layer 3: Access
- âœ… **Zero Trust SSH**: SSH only via WireGuard network
- âœ… **Key-based Auth**: No password authentication

## ğŸ“Š Health Check

```bash
./scripts/health-check.sh
```

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           ZERO TRUST NETWORK - HEALTH CHECK                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â” NODE CONNECTIVITY â”â”â”
  âœ“ hub-2 (10.10.0.2) - 5ms
  âœ“ db-primary (10.10.0.10) - 240ms
  âœ“ db-replica (10.10.0.11) - 238ms
```

## ğŸ“š Documentation

- [Zero Trust Architecture](ZERO_TRUST_ARCHITECTURE.md) - Chi tiáº¿t kiáº¿n trÃºc
- [High Availability](HIGH_AVAILABILITY.md) - HÆ°á»›ng dáº«n HA
- [WireGuard Mesh](WIREGUARD_MESH.md) - Cáº¥u hÃ¬nh WireGuard

---

**Built with â¤ï¸ for Zero Trust Security**

*100% tá»± chá»§ - KhÃ´ng phá»¥ thuá»™c bÃªn thá»© 3*
